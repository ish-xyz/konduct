name: test-case-1
defaultRetries: 10
defaultTimeout: 10s
operations:

  - action: create
    template: template-1
    templateValues:
      namespace: xyz
      name: xyz
    expected:
      fail: true
      output: re("^")

  - action: read
    resource: core/v1/pods
    name: "mypod"
    labelSelector: "k8s-app=cilium"
    expected:
      items: 3
      payload:
        name: xyz
        status.something: this

  - action: exec
    name: pod
    namespace: default
    command: ["ls"]
    expected:
      fail: false
      output: "this"

